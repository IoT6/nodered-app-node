<script type="text/x-red" data-template-name="ttn app">
  <div class="form-row">
    <label for="node-config-input-appId"><i class="fa fa-desktop"></i> App ID</label>
    <input type="text" id="node-config-input-appId" >
  </div>
  <div class="form-row">
    <label for="node-config-input-accessKey"><i class="fa fa-key"></i> Access Key</label>
    <input type="password" id="node-config-input-accessKey" placeholder="">
  </div>
  <div class="form-row">
    <label for="node-config-input-region"><i class="fa fa-globe"></i> Region or Broker</label>
    <input type="text" id="node-config-input-region" placeholder="eu">
  </div>
</script>

<script type="text/x-red" data-help-name="ttn app">
  <p>A node to share The Things Network application configurations between nodes.</p>
  <p>Use the following information of the application on The Things Network dashboard:</p>
  <ul>
    <li><strong>App ID:</strong> Copy <em>Application ID</em> from the <em>Application Overview</em> box.</li>
    <li><strong>Access Key:</strong> Scroll down to the <em>Access Keys</em>. For the key you'd like to use, click <code>üëÅ</code> to show the key and then <code>üìã</code> to copy it.</li>
    <li><strong>Region or Broker:</strong> Scroll back up again to <em>Handler Status</em> in the <em>Application Overview</em> box. Only copy the last bit following <code>ttn-handler-</code>.</li>
  </ul>
</script>

<script type="text/javascript">
  RED.nodes.registerType('ttn app', {
    category: 'config',
    defaults: {
      appId: {
        value: '',
        type: 'string',
        required: true,
      },
      accessKey: {
        value: '',
        type: 'password',
        required: true,
      },
      region: {
        value: '',
        type: 'string',
        required: true,
      },
    },
    label: function() {
      return this.appId || 'ttn';
    },
  });
</script>
